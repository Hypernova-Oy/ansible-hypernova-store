{{ ansible_managed | comment(decoration="# ") }}

    ssl_certificate		{{self_signed_ssl_cert}};
    ssl_certificate_key		{{self_signed_ssl_key}};
    #ssl_trusted_certificate	ssl/support.crt;
    ssl_dhparam			ssl/dhparam.pem;
    ssl_protocols		TLSv1 TLSv1.1 TLSv1.2 TLSv1.3;
    ssl_prefer_server_ciphers	on;
    ssl_ciphers			ECDHE-RSA-AES256-GCM-SHA512:DHE-RSA-AES256-GCM-SHA512:ECDHE-RSA-AES256-GCM-SHA384:DHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-SHA384;
    ssl_ecdh_curve		secp384r1;
    ssl_session_timeout		10m;
    ssl_session_cache		shared:SSL:10m;
    ssl_session_tickets		off;
    ssl_stapling_verify		on;
    ssl_stapling		on;
    resolver			8.8.8.8 8.8.4.4 208.67.222.222 208.67.220.220 216.146.35.35 216.146.36.36 valid=300s;
    resolver_timeout		5s;
    add_header			Strict-Transport-Security "max-age=31536000; includeSubdomains; preload;";
    # Disable HTTP Strict Transport Security for debug
    # add_header		Strict-Transport-Security "max-age=0;";

